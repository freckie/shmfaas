apiVersion: serving.knative.dev/v1
kind: Service
metadata:
  name: mobilnetv2-a
  namespace: shmfaas
spec:
  template: # pod template
    metadata:
      # labels:
      #   shmfaas-model-name: mobilenetv2
      #   shmfaas-tag-name: 0.0.1
      #   shmfaas-shm-request: "14680064"
      annotations:
        autoscaling.knative.dev/min-scale: "20"
    spec:
      # hostIPC: true
      # schedulerName: shmfaas-scheduler
      containers:
      - image: ghcr.io/freckie/fn-mobilenetv2:a-0.0.1-squash
        imagePullPolicy: Always #for debug
        # env:
        # - name: SHMM_NAME
        #   value: "mobilenetv2"
        # - name: TAG_NAME
        #   value: "0.0.1"
        # - name: NODE_NAME
        #   valueFrom:
        #     fieldRef:
        #       fieldPath: status.hostIP
